<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>チェックリストビューア</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<link rel="manifest" href="data:application/manifest+json,{}">
<style>
  body{margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:#f6f7fb;color:#111;}
  header{position:sticky;top:0;background:#fff;padding:12px 12px 8px;border-bottom:1px solid #e7eaf3;z-index:10}
  .tabs{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:8px}
  .tab{padding:6px 12px;border-radius:999px;border:1px solid #d5d9e2;background:#fff;cursor:pointer}
  .tab.active{background:#111;color:#fff;border-color:#111}
  .controls{display:flex;gap:8px}
  .controls input,.controls select{flex:1;padding:10px 12px;border:1px solid #d5d9e2;border-radius:8px;background:#fff}
  main{padding:12px}
  .card{background:#fff;border:1px solid #e7eaf3;border-radius:12px;padding:12px;margin-bottom:10px;box-shadow:0 1px 2px rgba(0,0,0,0.03);}
  .row1{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
  .title{font-weight:600}
  .badge{font-size:12px;background:#eef1f7;border:1px solid #d5d9e2;padding:2px 8px;border-radius:999px}
  .meta{font-size:13px;color:#555;display:flex;flex-wrap:wrap;gap:10px}
  .moon{margin-left:6px}
  footer{padding:16px 12px 36px;color:#667; font-size:12px; text-align:center}
</style>
</head>
<body>
<header>
  <div class="tabs" id="tabs"></div>
  <div class="controls">
    <input id="q" placeholder="検索（ST名・車種・登録番号）" />
    <select id="sort">
      <option value="date_desc">日付↓</option>
      <option value="date_asc">日付↑</option>
      <option value="no_asc">No↑</option>
      <option value="no_desc">No↓</option>
    </select>
  </div>
</header>
<main id="list"></main>
<footer>更新: <span id="updated"></span> ・ ホーム画面に追加でアプリ風に使えます</footer>
<script>
const APP_DATA = {"sheets": ["大和", "海老名", "調布"], "records_by_sheet": {"大和": [{"日付": "", "No": 1, "夜": "×", "ST名": "タイムズ高座渋谷駅前第２", "車種": "ルーミー", "登録番号": "相模501ワ6171", "地域": "大和"}, {"日付": "", "No": 2, "夜": "△", "ST名": "イオン大和ショッピングセンター第３", "車種": "N BOX", "登録番号": "相模580ワ3097", "地域": "大和"}, {"日付": "", "No": 3, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "相模501ワ7546", "地域": "大和"}, {"日付": "", "No": 4, "夜": "", "ST名": "", "車種": "アクア", "登録番号": "相模501ワ7871", "地域": "大和"}, {"日付": "", "No": 5, "夜": "△", "ST名": "下和田駐車場", "車種": "ヤリスクロス", "登録番号": "相模300ワ6124", "地域": "大和"}, {"日付": "", "No": 6, "夜": "×", "ST名": "Ｂ・Ｈパーキング", "車種": "MAZDA3", "登録番号": "相模300ワ4776", "地域": "大和"}, {"日付": "", "No": 7, "夜": "", "ST名": "", "車種": "ヤリスクロス", "登録番号": "相模300ワ6039", "地域": "大和"}, {"日付": "", "No": 8, "夜": "×", "ST名": "上草柳駐車場", "車種": "ヤリス", "登録番号": "相模501ワ8699", "地域": "大和"}, {"日付": "", "No": 9, "夜": "×", "ST名": "ギャザーコート１ＳＴ", "車種": "フィット", "登録番号": "相模501ワ8158", "地域": "大和"}, {"日付": "", "No": 10, "夜": "○", "ST名": "上和田月極駐車場", "車種": "ノート", "登録番号": "相模501ワ7589", "地域": "大和"}, {"日付": "", "No": 11, "夜": "", "ST名": "", "車種": "アクア", "登録番号": "相模501ワ7590", "地域": "大和"}, {"日付": "", "No": 12, "夜": "○", "ST名": "深見西１丁目", "車種": "ヤリスクロス", "登録番号": "相模300ワ5170", "地域": "大和"}, {"日付": "", "No": 13, "夜": "", "ST名": "", "車種": "スイフト", "登録番号": "相模501ワ7810", "地域": "大和"}, {"日付": "", "No": 14, "夜": "", "ST名": "", "車種": "C-HR", "登録番号": "相模300ワ5415", "地域": "大和"}, {"日付": "", "No": 15, "夜": "×", "ST名": "ラークヴィラ", "車種": "ヤリス", "登録番号": "相模501ワ9437", "地域": "大和"}, {"日付": "", "No": 16, "夜": "△", "ST名": "タイムズ大和深見西", "車種": "ノート", "登録番号": "相模501ワ5882", "地域": "大和"}, {"日付": "", "No": 17, "夜": "", "ST名": "", "車種": "ルーミー", "登録番号": "相模501ワ6404", "地域": "大和"}, {"日付": "", "No": 18, "夜": "", "ST名": "", "車種": "ソリオ", "登録番号": "相模501ワ6029", "地域": "大和"}, {"日付": "", "No": 19, "夜": "×", "ST名": "大和深見台１丁目", "車種": "ヤリスクロス", "登録番号": "相模300ワ4332", "地域": "大和"}, {"日付": "", "No": 20, "夜": "", "ST名": "", "車種": "C-HR", "登録番号": "相模300ワ5304", "地域": "大和"}, {"日付": "", "No": 21, "夜": "×", "ST名": "深見台１丁目第２", "車種": "MAZDA3", "登録番号": "相模300ワ5774", "地域": "大和"}, {"日付": "", "No": 22, "夜": "△", "ST名": "タイムズ大和駅前第５", "車種": "ノート", "登録番号": "相模501ワ7772", "地域": "大和"}, {"日付": "", "No": 23, "夜": "△", "ST名": "タイムズ大和駅前第３", "車種": "ノート", "登録番号": "相模501ワ8779", "地域": "大和"}, {"日付": "", "No": 24, "夜": "", "ST名": "", "車種": "フリード", "登録番号": "相模501ワ8270", "地域": "大和"}, {"日付": "", "No": 25, "夜": "", "ST名": "", "車種": "ノア", "登録番号": "相模300ワ5566", "地域": "大和"}, {"日付": "", "No": 26, "夜": "○", "ST名": "タイムズ小田急大和第２", "車種": "スイフト", "登録番号": "相模501ワ9375", "地域": "大和"}, {"日付": "", "No": 27, "夜": "○", "ST名": "山口第１駐車場", "車種": "ルークス", "登録番号": "相模580ワ3236", "地域": "大和"}, {"日付": "", "No": 28, "夜": "", "ST名": "", "車種": "ルークス", "登録番号": "相模580ワ3578", "地域": "大和"}, {"日付": "", "No": 29, "夜": "×", "ST名": "山口第５駐車場", "車種": "ノート", "登録番号": "相模501ワ9233", "地域": "大和"}, {"日付": "", "No": 30, "夜": "○", "ST名": "タイムズ大和徳洲会病院", "車種": "CX-30", "登録番号": "相模300ワ5652", "地域": "大和"}, {"日付": "", "No": 31, "夜": "", "ST名": "", "車種": "オーラ", "登録番号": "相模300ワ5331", "地域": "大和"}, {"日付": "", "No": 32, "夜": "×", "ST名": "中央１号公園前", "車種": "ヤリス", "登録番号": "相模501ワ9101", "地域": "大和"}, {"日付": "", "No": 33, "夜": "○", "ST名": "タイムズ大和中央第４", "車種": "MAZDA2", "登録番号": "相模501ワ8234", "地域": "大和"}, {"日付": "", "No": 34, "夜": "×", "ST名": "セソンレオ", "車種": "MAZDA2", "登録番号": "相模501ワ5884", "地域": "大和"}, {"日付": "", "No": 35, "夜": "", "ST名": "", "車種": "ヤリスクロス", "登録番号": "相模300ワ4779", "地域": "大和"}, {"日付": "", "No": 36, "夜": "△", "ST名": "大和市中央５丁目３", "車種": "ワゴンRスマイル", "登録番号": "相模580ワ3324", "地域": "大和"}, {"日付": "", "No": 37, "夜": "×", "ST名": "大和市中央５丁目", "車種": "アクア", "登録番号": "相模501ワ8078", "地域": "大和"}, {"日付": "", "No": 38, "夜": "×", "ST名": "大和市中央７丁目", "車種": "ライズ", "登録番号": "相模501ワ7865", "地域": "大和"}, {"日付": "", "No": 39, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "相模501ワ9395", "地域": "大和"}, {"日付": "", "No": 40, "夜": "×", "ST名": "ウイングヤマシタ", "車種": "ライズ", "登録番号": "相模501ワ9248", "地域": "大和"}, {"日付": "", "No": 41, "夜": "", "ST名": "", "車種": "MAZDA2", "登録番号": "相模501ワ9121", "地域": "大和"}, {"日付": "", "No": 42, "夜": "△", "ST名": "スクエアパーキング", "車種": "アクア", "登録番号": "相模501ワ8925", "地域": "大和"}, {"日付": "", "No": 43, "夜": "×", "ST名": "桜ヶ丘パーキング", "車種": "ノート", "登録番号": "相模501ワ7781", "地域": "大和"}, {"日付": "", "No": 44, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "相模501ワ9446", "地域": "大和"}, {"日付": "", "No": 45, "夜": "×", "ST名": "タイムズ大和柳橋", "車種": "ノート", "登録番号": "相模501ワ6380", "地域": "大和"}], "海老名": [{"日付": "", "No": 46, "夜": "○", "ST名": "タイムズ海老名駅前第２", "車種": "CX-30", "登録番号": "相模300ワ5668", "地域": "海老名"}, {"日付": "", "No": 47, "夜": "", "ST名": "", "車種": "ノート", "登録番号": "相模501ワ8127", "地域": "海老名"}, {"日付": "", "No": 48, "夜": "", "ST名": "", "車種": "フリード", "登録番号": "相模501ワ8181", "地域": "海老名"}, {"日付": "", "No": 49, "夜": "", "ST名": "", "車種": "ソリオ", "登録番号": "相模501ワ6814", "地域": "海老名"}, {"日付": "", "No": 50, "夜": "○", "ST名": "小田急厚木第１駐車場（小田急）", "車種": "ノート", "登録番号": "相模501ワ7277", "地域": "海老名"}, {"日付": "", "No": 51, "夜": "", "ST名": "", "車種": "ソリオ", "登録番号": "相模501ワ7594", "地域": "海老名"}, {"日付": "", "No": 52, "夜": "○", "ST名": "タイムズ海老名河原口", "車種": "アクア", "登録番号": "相模501ワ8033", "地域": "海老名"}, {"日付": "", "No": 53, "夜": "△", "ST名": "ロイヤルプラザ海老名駐車場", "車種": "オーラ", "登録番号": "相模300ワ5604", "地域": "海老名"}, {"日付": "", "No": 54, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "相模501ワ6239", "地域": "海老名"}, {"日付": "", "No": 55, "夜": "", "ST名": "", "車種": "ヤリスクロス", "登録番号": "相模300ワ6044", "地域": "海老名"}, {"日付": "", "No": 56, "夜": "", "ST名": "", "車種": "アクア", "登録番号": "相模501ワ7298", "地域": "海老名"}, {"日付": "", "No": 57, "夜": "", "ST名": "", "車種": "プリウス", "登録番号": "相模300ワ5827", "地域": "海老名"}, {"日付": "", "No": 58, "夜": "", "ST名": "", "車種": "ノア", "登録番号": "相模300ワ5603", "地域": "海老名"}, {"日付": "", "No": 59, "夜": "×", "ST名": "海老名国分北２丁目", "車種": "ハスラー", "登録番号": "相模580ワ4011", "地域": "海老名"}, {"日付": "", "No": 60, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "相模501ワ7023", "地域": "海老名"}, {"日付": "", "No": 61, "夜": "×", "ST名": "マハロ壱番館", "車種": "アクア", "登録番号": "相模501ワ8910", "地域": "海老名"}, {"日付": "", "No": 62, "夜": "○", "ST名": "タイムズ海老名駅西口第３", "車種": "CX-30", "登録番号": "相模300ワ4508", "地域": "海老名"}, {"日付": "", "No": 63, "夜": "", "ST名": "", "車種": "ノート", "登録番号": "相模501ワ8184", "地域": "海老名"}, {"日付": "", "No": 64, "夜": "", "ST名": "", "車種": "CX-5", "登録番号": "相模300ワ4907", "地域": "海老名"}, {"日付": "", "No": 65, "夜": "", "ST名": "", "車種": "ハスラー", "登録番号": "相模580ワ3114", "地域": "海老名"}, {"日付": "", "No": 66, "夜": "", "ST名": "", "車種": "ハスラー", "登録番号": "相模580ワ3376", "地域": "海老名"}, {"日付": "", "No": 67, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "相模501ワ7816", "地域": "海老名"}, {"日付": "", "No": 68, "夜": "", "ST名": "", "車種": "ノア", "登録番号": "相模300ワ4926", "地域": "海老名"}, {"日付": "", "No": 69, "夜": "", "ST名": "", "車種": "アクア", "登録番号": "相模501ワ7095", "地域": "海老名"}, {"日付": "", "No": 70, "夜": "△", "ST名": "扇町見世ビル", "車種": "ヤリス", "登録番号": "相模501ワ9444", "地域": "海老名"}, {"日付": "", "No": 71, "夜": "△", "ST名": "タイムズ海老名駅西口第４", "車種": "ノート", "登録番号": "相模501ワ7864", "地域": "海老名"}, {"日付": "", "No": 72, "夜": "×", "ST名": "海老名駅西口（ＥＶ）", "車種": "リーフ", "登録番号": "相模300ワ5328", "地域": "海老名"}, {"日付": "", "No": 73, "夜": "×", "ST名": "タイムズ海老名泉", "車種": "ヤリス", "登録番号": "相模501ワ7611", "地域": "海老名"}, {"日付": "", "No": 74, "夜": "", "ST名": "", "車種": "ヤリスクロス", "登録番号": "相模300ワ4912", "地域": "海老名"}, {"日付": "", "No": 75, "夜": "△", "ST名": "セントガーデン海老名＿限定", "車種": "ノート", "登録番号": "相模501ワ9403", "地域": "海老名"}, {"日付": "", "No": 76, "夜": "", "ST名": "", "車種": "シエンタ", "登録番号": "相模501ワ9383", "地域": "海老名"}, {"日付": "", "No": 77, "夜": "○", "ST名": "タイムズビナフロント", "車種": "ソリオ", "登録番号": "相模501ワ7924", "地域": "海老名"}, {"日付": "", "No": 78, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "相模501ワ5975", "地域": "海老名"}, {"日付": "", "No": 79, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "相模501ワ7911", "地域": "海老名"}, {"日付": "", "No": 80, "夜": "○", "ST名": "タイムズ海老名中央公園地下", "車種": "MAZDA2", "登録番号": "相模501ワ7040", "地域": "海老名"}, {"日付": "", "No": 81, "夜": "", "ST名": "", "車種": "ノート", "登録番号": "相模501ワ6811", "地域": "海老名"}, {"日付": "", "No": 82, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "相模501ワ8985", "地域": "海老名"}, {"日付": "", "No": 83, "夜": "", "ST名": "", "車種": "アクア", "登録番号": "相模501ワ7065", "地域": "海老名"}, {"日付": "", "No": 84, "夜": "", "ST名": "タイムズ海老名中央公園地下（ＥＶ）", "車種": "リーフ", "登録番号": "相模300ワ5669", "地域": "海老名"}, {"日付": "", "No": 85, "夜": "×", "ST名": "クラウンハイツ海老名", "車種": "MAZDA2", "登録番号": "相模501ワ8977", "地域": "海老名"}, {"日付": "", "No": 86, "夜": "", "ST名": "", "車種": "アクア", "登録番号": "相模501ワ7250", "地域": "海老名"}, {"日付": "", "No": 87, "夜": "", "ST名": "", "車種": "スイフト", "登録番号": "相模501ワ8018", "地域": "海老名"}, {"日付": "", "No": 88, "夜": "○", "ST名": "スターバックスコーヒー海老名中央店", "車種": "ヤリス", "登録番号": "相模501ワ6185", "地域": "海老名"}, {"日付": "", "No": 89, "夜": "", "ST名": "", "車種": "スイフト", "登録番号": "相模501ワ7312", "地域": "海老名"}, {"日付": "", "No": 90, "夜": "○", "ST名": "イオン海老名ショッピングセンターＧ", "車種": "MAZDA2", "登録番号": "相模501ワ8851", "地域": "海老名"}, {"日付": "", "No": 91, "夜": "", "ST名": "", "車種": "ノート", "登録番号": "相模501ワ7819", "地域": "海老名"}, {"日付": "", "No": 92, "夜": "", "ST名": "", "車種": "ノート", "登録番号": "相模501ワ9089", "地域": "海老名"}, {"日付": "", "No": 93, "夜": "", "ST名": "", "車種": "フリード", "登録番号": "相模501ワ8028", "地域": "海老名"}, {"日付": "", "No": 94, "夜": "", "ST名": "", "車種": "フリード", "登録番号": "相模501ワ5990", "地域": "海老名"}, {"日付": "", "No": 95, "夜": "", "ST名": "", "車種": "フィット", "登録番号": "相模501ワ6041", "地域": "海老名"}, {"日付": "", "No": 96, "夜": "", "ST名": "", "車種": "フィット", "登録番号": "相模501ワ6815", "地域": "海老名"}, {"日付": "", "No": 97, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "相模501ワ8863", "地域": "海老名"}, {"日付": "", "No": 98, "夜": "", "ST名": "", "車種": "アクア", "登録番号": "相模501ワ6369", "地域": "海老名"}, {"日付": "", "No": 99, "夜": "○", "ST名": "タイムズ海老名中央第６", "車種": "N BOX", "登録番号": "相模580ワ2448", "地域": "海老名"}, {"日付": "", "No": 100, "夜": "△", "ST名": "海老名市中央３丁目", "車種": "フィット", "登録番号": "相模501ワ9122", "地域": "海老名"}, {"日付": "", "No": 101, "夜": "", "ST名": "", "車種": "ハスラー", "登録番号": "相模580ワ3039", "地域": "海老名"}, {"日付": "", "No": 102, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "相模501ワ7308", "地域": "海老名"}, {"日付": "", "No": 103, "夜": "△", "ST名": "海老名駅前第３", "車種": "フリード", "登録番号": "相模501ワ8185", "地域": "海老名"}, {"日付": "", "No": 104, "夜": "", "ST名": "", "車種": "ソリオ", "登録番号": "相模501ワ8250", "地域": "海老名"}, {"日付": "", "No": 105, "夜": "△", "ST名": "タイムズ海老名中央第４", "車種": "ヤリス", "登録番号": "相模501ワ8357", "地域": "海老名"}, {"日付": "", "No": 106, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "相模501ワ8370", "地域": "海老名"}, {"日付": "", "No": 107, "夜": "○", "ST名": "厚木第２駐車場（小田急）", "車種": "ノート", "登録番号": "相模501ワ9095", "地域": "海老名"}, {"日付": "", "No": 108, "夜": "", "ST名": "", "車種": "ソリオ", "登録番号": "相模501ワ5731", "地域": "海老名"}, {"日付": "", "No": 109, "夜": "", "ST名": "", "車種": "スイフト", "登録番号": "相模501ワ8186", "地域": "海老名"}, {"日付": "", "No": 110, "夜": "△", "ST名": "ＵＲえびな団地", "車種": "ヤリスクロス", "登録番号": "相模300ワ5939", "地域": "海老名"}, {"日付": "", "No": 111, "夜": "×", "ST名": "タイムズ東柏ケ谷", "車種": "フィット", "登録番号": "相模501ワ8015", "地域": "海老名"}, {"日付": "", "No": 112, "夜": "", "ST名": "", "車種": "ヤリスクロス", "登録番号": "相模300ワ5908", "地域": "海老名"}, {"日付": "", "No": 113, "夜": "", "ST名": "", "車種": "ヤリスクロス", "登録番号": "相模300ワ6071", "地域": "海老名"}, {"日付": "", "No": 114, "夜": "×", "ST名": "ＰーＲＥＸさがみ野駐車場", "車種": "MAZDA3", "登録番号": "相模300ワ5854", "地域": "海老名"}, {"日付": "", "No": 115, "夜": "", "ST名": "", "車種": "ヤリスクロス", "登録番号": "相模300ワ6041", "地域": "海老名"}, {"日付": "", "No": 116, "夜": "", "ST名": "", "車種": "アクア", "登録番号": "相模501ワ8520", "地域": "海老名"}, {"日付": "", "No": 117, "夜": "△", "ST名": "さがみ野駅南口（屋上）", "車種": "ノート", "登録番号": "相模501ワ7147", "地域": "海老名"}, {"日付": "", "No": 118, "夜": "", "ST名": "", "車種": "ノート", "登録番号": "相模501ワ8626", "地域": "海老名"}, {"日付": "", "No": 119, "夜": "", "ST名": "", "車種": "ソリオ", "登録番号": "相模501ワ8198", "地域": "海老名"}, {"日付": "", "No": 120, "夜": "", "ST名": "", "車種": "アクア", "登録番号": "相模501ワ9335", "地域": "海老名"}, {"日付": "", "No": 121, "夜": "", "ST名": "", "車種": "スイフト", "登録番号": "相模501ワ8152", "地域": "海老名"}, {"日付": "", "No": 122, "夜": "×", "ST名": "タイムズさがみ野相鉄ライフ第２", "車種": "ヤリス", "登録番号": "相模501ワ5976", "地域": "海老名"}, {"日付": "", "No": 123, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "相模501ワ9288", "地域": "海老名"}, {"日付": "", "No": 124, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "相模501ワ9283", "地域": "海老名"}, {"日付": "", "No": 125, "夜": "×", "ST名": "Ｎ－ｓｔａｇｅかしわ台", "車種": "C-HR", "登録番号": "相模300ワ5174", "地域": "海老名"}, {"日付": "", "No": 126, "夜": "○", "ST名": "タイムズかしわ台第３", "車種": "ライズ", "登録番号": "相模501ワ5783", "地域": "海老名"}, {"日付": "", "No": 127, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "相模501ワ5721", "地域": "海老名"}, {"日付": "", "No": 128, "夜": "", "ST名": "", "車種": "ヤリスクロス", "登録番号": "相模300ワ4680", "地域": "海老名"}, {"日付": "", "No": 129, "夜": "", "ST名": "", "車種": "ヤリスクロス", "登録番号": "相模300ワ4782", "地域": "海老名"}, {"日付": "", "No": 130, "夜": "△", "ST名": "かしわ台駅前", "車種": "オーラ", "登録番号": "相模300ワ5332", "地域": "海老名"}, {"日付": "", "No": 131, "夜": "", "ST名": "", "車種": "スイフト", "登録番号": "相模501ワ8150", "地域": "海老名"}, {"日付": "", "No": 132, "夜": "△", "ST名": "相鉄柏ケ谷月極パーキング", "車種": "MAZDA3", "登録番号": "相模300ワ6019", "地域": "海老名"}, {"日付": "", "No": 133, "夜": "△", "ST名": "見上駐車場", "車種": "アクア", "登録番号": "相模501ワ9310", "地域": "海老名"}], "調布": [{"日付": "", "No": 134, "夜": "△", "ST名": "タイムズ飛田給第２", "車種": "MAZDA2", "登録番号": "多摩502ワ6880", "地域": "調布"}, {"日付": "", "No": 135, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "多摩502ワ8007", "地域": "調布"}, {"日付": "", "No": 136, "夜": "", "ST名": "", "車種": "アクア", "登録番号": "多摩502ワ8428", "地域": "調布"}, {"日付": "", "No": 137, "夜": "", "ST名": "", "車種": "アクア", "登録番号": "多摩502ワ4452", "地域": "調布"}, {"日付": "", "No": 138, "夜": "", "ST名": "", "車種": "スイフト", "登録番号": "多摩503ワ162", "地域": "調布"}, {"日付": "", "No": 139, "夜": "", "ST名": "", "車種": "プリウス", "登録番号": "多摩300ワ8523", "地域": "調布"}, {"日付": "", "No": 140, "夜": "×", "ST名": "タイムズ飛田給２丁目１１", "車種": "ノート", "登録番号": "多摩502ワ7389", "地域": "調布"}, {"日付": "", "No": 141, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "多摩502ワ8532", "地域": "調布"}, {"日付": "", "No": 142, "夜": "×", "ST名": "飛田給３丁目", "車種": "CX-5", "登録番号": "多摩300ワ9253", "地域": "調布"}, {"日付": "", "No": 143, "夜": "×", "ST名": "調布上石原月極駐車場", "車種": "ヤリス", "登録番号": "多摩502ワ5528", "地域": "調布"}, {"日付": "", "No": 144, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "多摩502ワ7979", "地域": "調布"}, {"日付": "", "No": 145, "夜": "△", "ST名": "タイムズ調布多摩川第８", "車種": "ルーミー", "登録番号": "多摩502ワ8436", "地域": "調布"}, {"日付": "", "No": 146, "夜": "", "ST名": "", "車種": "シエンタ", "登録番号": "多摩502ワ4138", "地域": "調布"}, {"日付": "", "No": 147, "夜": "×", "ST名": "タイムズ調布多摩川第６（２）", "車種": "アクア", "登録番号": "多摩502ワ9632", "地域": "調布"}, {"日付": "", "No": 148, "夜": "", "ST名": "タイムズ調布多摩川第６（１）", "車種": "ノート", "登録番号": "多摩502ワ9831", "地域": "調布"}, {"日付": "", "No": 149, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "多摩503ワ450", "地域": "調布"}, {"日付": "", "No": 150, "夜": "", "ST名": "", "車種": "アクア", "登録番号": "多摩503ワ582", "地域": "調布"}, {"日付": "", "No": 151, "夜": "×", "ST名": "多摩川月極駐車場", "車種": "ハスラー", "登録番号": "多摩580ワ4004", "地域": "調布"}, {"日付": "", "No": 152, "夜": "×", "ST名": "調布多摩川７丁目", "車種": "ソリオ", "登録番号": "多摩503ワ38", "地域": "調布"}, {"日付": "", "No": 153, "夜": "", "ST名": "", "車種": "アクア", "登録番号": "多摩503ワ5", "地域": "調布"}, {"日付": "", "No": 154, "夜": "×", "ST名": "タイムズ調布下石原第２", "車種": "ノート", "登録番号": "多摩502ワ7204", "地域": "調布"}, {"日付": "", "No": 155, "夜": "×", "ST名": "タイムズ調布下石原第３", "車種": "ソリオ", "登録番号": "多摩502ワ7730", "地域": "調布"}, {"日付": "", "No": 156, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "多摩502ワ5494", "地域": "調布"}, {"日付": "", "No": 157, "夜": "×", "ST名": "下石原２丁目第２", "車種": "MAZDA2", "登録番号": "多摩502ワ8969", "地域": "調布"}, {"日付": "", "No": 158, "夜": "", "ST名": "", "車種": "ノート", "登録番号": "多摩502ワ9171", "地域": "調布"}, {"日付": "", "No": 159, "夜": "×", "ST名": "下石原２丁目", "車種": "フィット", "登録番号": "多摩502ワ5930", "地域": "調布"}, {"日付": "", "No": 160, "夜": "", "ST名": "", "車種": "スイフト", "登録番号": "多摩502ワ9693", "地域": "調布"}, {"日付": "", "No": 161, "夜": "△", "ST名": "タイムズ調布下石原第４", "車種": "ノート", "登録番号": "多摩502ワ7095", "地域": "調布"}, {"日付": "", "No": 162, "夜": "", "ST名": "", "車種": "アクア", "登録番号": "多摩503ワ598", "地域": "調布"}, {"日付": "", "No": 163, "夜": "×", "ST名": "フィールドコート調布", "車種": "ヤリス", "登録番号": "多摩503ワ918", "地域": "調布"}, {"日付": "", "No": 164, "夜": "×", "ST名": "タイムズ調布富士見町第３", "車種": "アクア", "登録番号": "多摩502ワ7620", "地域": "調布"}, {"日付": "", "No": 165, "夜": "×", "ST名": "アトラス調布", "車種": "ルーミー", "登録番号": "多摩502ワ7477", "地域": "調布"}, {"日付": "", "No": 166, "夜": "×", "ST名": "タイムズ調布小島町第２", "車種": "ソリオ", "登録番号": "多摩502ワ7447", "地域": "調布"}, {"日付": "", "No": 167, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "多摩502ワ5514", "地域": "調布"}, {"日付": "", "No": 168, "夜": "", "ST名": "", "車種": "ヤリスクロス", "登録番号": "多摩300ワ7433", "地域": "調布"}, {"日付": "", "No": 169, "夜": "", "ST名": "", "車種": "ヤリスクロス", "登録番号": "多摩300ワ9657", "地域": "調布"}, {"日付": "", "No": 170, "夜": "", "ST名": "", "車種": "アクア", "登録番号": "多摩502ワ9391", "地域": "調布"}, {"日付": "", "No": 171, "夜": "", "ST名": "", "車種": "シエンタ", "登録番号": "多摩502ワ8357", "地域": "調布"}, {"日付": "", "No": 172, "夜": "", "ST名": "", "車種": "スイフト", "登録番号": "多摩503ワ19", "地域": "調布"}, {"日付": "", "No": 173, "夜": "", "ST名": "タイムズ調布小島町第２（ＥＶ）", "車種": "サクラ", "登録番号": "多摩580ワ5206", "地域": "調布"}, {"日付": "", "No": 174, "夜": "×", "ST名": "調布ルピナス駐車場", "車種": "N BOX", "登録番号": "多摩580ワ4533", "地域": "調布"}, {"日付": "", "No": 175, "夜": "△", "ST名": "シスコンパーク調布小島町第１", "車種": "ライズ", "登録番号": "多摩502ワ5454", "地域": "調布"}, {"日付": "", "No": 176, "夜": "", "ST名": "", "車種": "MAZDA3", "登録番号": "多摩300ワ9166", "地域": "調布"}, {"日付": "", "No": 177, "夜": "", "ST名": "", "車種": "MAZDA2", "登録番号": "多摩502ワ8797", "地域": "調布"}, {"日付": "", "No": 178, "夜": "", "ST名": "", "車種": "オーラ", "登録番号": "多摩300ワ8929", "地域": "調布"}, {"日付": "", "No": 179, "夜": "", "ST名": "", "車種": "ソリオ", "登録番号": "多摩502ワ8821", "地域": "調布"}, {"日付": "", "No": 180, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "多摩502ワ7631", "地域": "調布"}, {"日付": "", "No": 181, "夜": "×", "ST名": "調布小島町２丁目", "車種": "MAZDA2", "登録番号": "多摩503ワ71", "地域": "調布"}, {"日付": "", "No": 182, "夜": "×", "ST名": "調布小島町２丁目第２", "車種": "CX-30", "登録番号": "多摩300ワ7854", "地域": "調布"}, {"日付": "", "No": 183, "夜": "", "ST名": "", "車種": "ノア", "登録番号": "多摩300ワ9110", "地域": "調布"}, {"日付": "", "No": 184, "夜": "×", "ST名": "ＵＲシティハイツ調布小島町", "車種": "オーラ", "登録番号": "多摩300ワ8750", "地域": "調布"}, {"日付": "", "No": 185, "夜": "×", "ST名": "クレセール調布", "車種": "ソリオ", "登録番号": "多摩502ワ8246", "地域": "調布"}, {"日付": "", "No": 186, "夜": "", "ST名": "", "車種": "C-HR", "登録番号": "多摩300ワ6992", "地域": "調布"}, {"日付": "", "No": 187, "夜": "×", "ST名": "タイムズ調布ヶ丘第３", "車種": "ハスラー", "登録番号": "多摩580ワ3257", "地域": "調布"}, {"日付": "", "No": 188, "夜": "", "ST名": "", "車種": "アクア", "登録番号": "多摩502ワ8843", "地域": "調布"}, {"日付": "", "No": 189, "夜": "×", "ST名": "調布ヶ丘２丁目第２", "車種": "フィット", "登録番号": "多摩502ワ9341", "地域": "調布"}, {"日付": "", "No": 190, "夜": "", "ST名": "", "車種": "ルーミー", "登録番号": "多摩502ワ6123", "地域": "調布"}, {"日付": "", "No": 191, "夜": "", "ST名": "", "車種": "ヤリス", "登録番号": "多摩502ワ9713", "地域": "調布"}, {"日付": "", "No": 192, "夜": "×", "ST名": "ガーラ・ヒルズ調布", "車種": "ノート", "登録番号": "多摩502ワ7079", "地域": "調布"}, {"日付": "", "No": 193, "夜": "", "ST名": "", "車種": "アクア", "登録番号": "多摩503ワ506", "地域": "調布"}, {"日付": "", "No": 194, "夜": "", "ST名": "", "車種": "スイフト", "登録番号": "多摩503ワ670", "地域": "調布"}, {"日付": "", "No": 195, "夜": "△", "ST名": "調布ヶ丘３丁目", "車種": "ヤリス", "登録番号": "多摩503ワ760", "地域": "調布"}, {"日付": "", "No": 196, "夜": "", "ST名": "", "車種": "ヤリスクロス", "登録番号": "多摩300ワ7974", "地域": "調布"}, {"日付": "", "No": 197, "夜": "×", "ST名": "タイムズ調布ヶ丘", "車種": "オーラ", "登録番号": "多摩300ワ8933", "地域": "調布"}, {"日付": "", "No": 198, "夜": "", "ST名": "", "車種": "ソリオ", "登録番号": "多摩502ワ8167", "地域": "調布"}, {"日付": "", "No": 199, "夜": "", "ST名": "", "車種": "アクア", "登録番号": "多摩502ワ9473", "地域": "調布"}]}, "updated_at": "2025-08-12T15:14:29.845403"};

const tabs = document.getElementById('tabs');
const list = document.getElementById('list');
const q = document.getElementById('q');
const sortSel = document.getElementById('sort');
const updated = document.getElementById('updated');
let currentSheet = APP_DATA.sheets[0];

updated.textContent = new Date(APP_DATA.updated_at).toLocaleString();

function renderTabs(){
  tabs.innerHTML = '';
  APP_DATA.sheets.forEach(s=>{
    const b = document.createElement('button');
    b.textContent = s;
    b.className = 'tab' + (s===currentSheet ? ' active':'');
    b.onclick = ()=>{ currentSheet=s; renderTabs(); renderList(); };
    tabs.appendChild(b);
  });
}

function normalize(v){ return (v||'').toString().trim(); }

function parseDate(s){
  s = normalize(s);
  if(!s) return null;
  const t = Date.parse(s.replace(/年|月/g,'/').replace('日','').replaceAll('.','/'));
  return isNaN(t) ? null : new Date(t);
}

function moonIcon(v){
  v = normalize(v);
  if(['○','◯','〇','△'].includes(v)) return '🌙';
  return '';
}

function compare(a,b, key, asc=true){
  const va = a[key], vb = b[key];
  if(va===vb) return 0;
  if(va===null) return 1;
  if(vb===null) return -1;
  return (va>vb?1:-1) * (asc?1:-1);
}

function renderList(){
  const kw = q.value.trim();
  const rows = (APP_DATA.records_by_sheet[currentSheet]||[]).map(r=>{
    return {
      dateRaw: normalize(r['日付']),
      date: parseDate(r['日付']),
      no: Number(normalize(r['No'])) || null,
      night: normalize(r['夜']),
      st: normalize(r['ST名']),
      car: normalize(r['車種']),
      plate: normalize(r['登録番号'])
    };
  }).filter(r=>{
    if(!kw) return true;
    const hay = [r.st, r.car, r.plate, r.dateRaw, String(r.no||'')].join(' ').toLowerCase();
    return hay.includes(kw.toLowerCase());
  });

  const mode = sortSel.value;
  rows.sort((a,b)=>{
    if(mode==='no_asc') return compare(a,b,'no',true);
    if(mode==='no_desc') return compare(a,b,'no',false);
    if(mode==='date_asc') return compare(a,b,'date',true);
    return compare(a,b,'date',false);
  });

  list.innerHTML = rows.map(r=>`
    <div class="card">
      <div class="row1">
        <div class="title">${r.st || '(ST未設定)'}</div>
        <div class="badge">${r.dateRaw || '-'}</div>
      </div>
      <div class="meta">
        <div>No: ${r.no ?? '-'}</div>
        <div>車種: ${r.car || '-'}</div>
        <div>登録番号: ${r.plate || '-'}</div>
        <div class="moon">${moonIcon(r.night)}</div>
      </div>
    </div>
  `).join('');
}

q.oninput = renderList;
sortSel.onchange = renderList;

renderTabs();
renderList();
</script>
</body>
</html>
