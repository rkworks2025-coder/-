<!doctype html><html lang="ja"><head><meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>巡回リスト</title>
<link rel="stylesheet" href="style.css?v=20250830"/></head>
<body><header class="appbar"><div class="title">巡回リスト</div>
<div class="btns"><button id="recalcBtn" class="btn">再計算</button>
<button id="syncBtn" class="btn btn-primary">同期</button></div></header>
<main class="wrap"><p id="statusText" class="hint">同期してください</p>
<section class="cards"><a class="card" href="yamato.html">大和市</a>
<a class="card" href="ebina.html">海老名市</a>
<a class="card" href="chofu.html">調布市</a></section></main>
<script>
const GAS_URL='https://script.google.com/macros/s/AKfycbzPYLa_qkxjqsW42IY5xIVjmZR-fCfgovr-jFiifQC9qKkMQ-I0TE8R2e4F1wAKzzlpYQ/exec';
const LS_KEY_ITEMS='junkai:items:v1';
function normalize(d){{const out=[];for(const r of (Array.isArray(d)?d:(d.data||[]))){{if(Array.isArray(r))out.push({{city:r[0],station:r[1],model:r[2],plate:r[3]}});}}return out}}
async function sync(){{const res=await fetch(GAS_URL+'?action=pull');const j=await res.json();const items=normalize(j);localStorage.setItem(LS_KEY_ITEMS,JSON.stringify(items));document.getElementById('statusText').textContent='同期完了';}}
document.getElementById('syncBtn').onclick=sync;
</script></body></html>