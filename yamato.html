<!doctype html>
<html lang="ja">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>大和市 巡回リスト</title>
<style>
  body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0;background:#f7f8fb;color:#111}
  header{position:sticky;top:0;background:#fff;border-bottom:1px solid #e7eaf3;padding:12px 16px;z-index:10;display:flex;gap:8px;align-items:center}
  header a{text-decoration:none;display:inline-block;padding:8px 12px;border:1px solid #d5d9e2;border-radius:999px;} 
  h1{font-size:18px;margin:0;flex:1}
  main{padding:12px}
  table{width:100%;border-collapse:collapse;background:#fff;border:1px solid #e7eaf3}
  th,td{border:1px solid #e7eaf3;padding:8px;text-align:left;vertical-align:top}
  th{background:#f0f2f7}
  .muted{color:#667}
</style>
<header>
  <a href="index_city_menu.html">← メニュー</a>
  <h1>大和市 巡回リスト</h1>
  <a href="#" onclick="clearAll();return false;">リセット</a>
</header>
<main>
  <p class="muted">チェックすると日付が自動で入ります（端末内に保存）。</p>
  <table><thead><tr><th>✔</th><th>日付</th><th>ステーション名</th><th>車種名</th><th>登録番号</th><th>備考</th></tr></thead><tbody><tr data-key='大和市:0'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>タイムズ高座渋谷駅前第２</td><td>ルーミー</td><td>相模501ワ6171</td><td></td></tr><tr data-key='大和市:1'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>イオン大和ショッピングセンター第３</td><td>N BOX</td><td>相模580ワ3097</td><td></td></tr><tr data-key='大和市:2'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>イオン大和ショッピングセンター第３</td><td>ヤリス</td><td>相模501ワ7546</td><td></td></tr><tr data-key='大和市:3'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>イオン大和ショッピングセンター第３</td><td>アクア</td><td>相模501ワ7871</td><td></td></tr><tr data-key='大和市:4'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>下和田駐車場</td><td>ヤリスクロス</td><td>相模300ワ6124</td><td></td></tr><tr data-key='大和市:5'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>Ｂ・Ｈパーキング</td><td>MAZDA3</td><td>相模300ワ4776</td><td></td></tr><tr data-key='大和市:6'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>Ｂ・Ｈパーキング</td><td>ヤリスクロス</td><td>相模300ワ6039</td><td></td></tr><tr data-key='大和市:7'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>上草柳駐車場</td><td>ヤリス</td><td>相模501ワ8699</td><td></td></tr><tr data-key='大和市:8'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>ギャザーコート１ＳＴ</td><td>フィット</td><td>相模501ワ8158</td><td></td></tr><tr data-key='大和市:9'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>上和田月極駐車場</td><td>ノート</td><td>相模501ワ7589</td><td></td></tr><tr data-key='大和市:10'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>上和田月極駐車場</td><td>アクア</td><td>相模501ワ7590</td><td></td></tr><tr data-key='大和市:11'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>深見西１丁目</td><td>ヤリスクロス</td><td>相模300ワ5170</td><td></td></tr><tr data-key='大和市:12'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>深見西１丁目</td><td>スイフト</td><td>相模501ワ7810</td><td></td></tr><tr data-key='大和市:13'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>深見西１丁目</td><td>C-HR</td><td>相模300ワ5415</td><td></td></tr><tr data-key='大和市:14'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>ラークヴィラ</td><td>ヤリス</td><td>相模501ワ9437</td><td></td></tr><tr data-key='大和市:15'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>タイムズ大和深見西</td><td>ノート</td><td>相模501ワ5882</td><td></td></tr><tr data-key='大和市:16'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>タイムズ大和深見西</td><td>ルーミー</td><td>相模501ワ6404</td><td></td></tr><tr data-key='大和市:17'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>タイムズ大和深見西</td><td>ソリオ</td><td>相模501ワ6029</td><td></td></tr><tr data-key='大和市:18'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>大和深見台１丁目</td><td>ヤリスクロス</td><td>相模300ワ4332</td><td></td></tr><tr data-key='大和市:19'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>大和深見台１丁目</td><td>C-HR</td><td>相模300ワ5304</td><td></td></tr><tr data-key='大和市:20'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>深見台１丁目第２</td><td>MAZDA3</td><td>相模300ワ5774</td><td></td></tr><tr data-key='大和市:21'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>タイムズ大和駅前第５</td><td>ノート</td><td>相模501ワ7772</td><td></td></tr><tr data-key='大和市:22'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>タイムズ大和駅前第３</td><td>ノート</td><td>相模501ワ8779</td><td></td></tr><tr data-key='大和市:23'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>タイムズ大和駅前第３</td><td>フリード</td><td>相模501ワ8270</td><td></td></tr><tr data-key='大和市:24'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>タイムズ大和駅前第３</td><td>ノア</td><td>相模300ワ5566</td><td></td></tr><tr data-key='大和市:25'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>タイムズ小田急大和第２</td><td>スイフト</td><td>相模501ワ9375</td><td></td></tr><tr data-key='大和市:26'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>山口第１駐車場</td><td>ルークス</td><td>相模580ワ3236</td><td></td></tr><tr data-key='大和市:27'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>山口第１駐車場</td><td>ルークス</td><td>相模580ワ3578</td><td></td></tr><tr data-key='大和市:28'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>山口第５駐車場</td><td>ノート</td><td>相模501ワ9233</td><td></td></tr><tr data-key='大和市:29'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>タイムズ大和徳洲会病院</td><td>CX-30</td><td>相模300ワ5652</td><td></td></tr><tr data-key='大和市:30'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>タイムズ大和徳洲会病院</td><td>オーラ</td><td>相模300ワ5331</td><td></td></tr><tr data-key='大和市:31'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>中央１号公園前</td><td>ヤリス</td><td>相模501ワ9101</td><td></td></tr><tr data-key='大和市:32'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>タイムズ大和中央第４</td><td>MAZDA2</td><td>相模501ワ8234</td><td></td></tr><tr data-key='大和市:33'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>セソンレオ</td><td>MAZDA2</td><td>相模501ワ5884</td><td></td></tr><tr data-key='大和市:34'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>セソンレオ</td><td>ヤリスクロス</td><td>相模300ワ4779</td><td></td></tr><tr data-key='大和市:35'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>大和市中央５丁目３</td><td>ワゴンRスマイル</td><td>相模580ワ3324</td><td></td></tr><tr data-key='大和市:36'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>大和市中央５丁目</td><td>アクア</td><td>相模501ワ8078</td><td></td></tr><tr data-key='大和市:37'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>大和市中央７丁目</td><td>ライズ</td><td>相模501ワ7865</td><td></td></tr><tr data-key='大和市:38'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>大和市中央７丁目</td><td>ヤリス</td><td>相模501ワ9395</td><td></td></tr><tr data-key='大和市:39'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>ウイングヤマシタ</td><td>ライズ</td><td>相模501ワ9248</td><td></td></tr><tr data-key='大和市:40'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>ウイングヤマシタ</td><td>MAZDA2</td><td>相模501ワ9121</td><td></td></tr><tr data-key='大和市:41'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>スクエアパーキング</td><td>アクア</td><td>相模501ワ8925</td><td></td></tr><tr data-key='大和市:42'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>桜ヶ丘パーキング</td><td>ノート</td><td>相模501ワ7781</td><td></td></tr><tr data-key='大和市:43'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>桜ヶ丘パーキング</td><td>ヤリス</td><td>相模501ワ9446</td><td></td></tr><tr data-key='大和市:44'><td><input type='checkbox' class='chk'></td><td class='date-cell'></td><td>タイムズ大和柳橋</td><td>ノート</td><td>相模501ワ6380</td><td></td></tr></tbody></table>
</main>
<script>
function today() {
  const d = new Date();
  const mm = String(d.getMonth()+1).padStart(2,'0');
  const dd = String(d.getDate()).padStart(2,'0');
  return d.getFullYear() + '-' + mm + '-' + dd;
}
function loadState(key) {
  try{ return JSON.parse(localStorage.getItem('chk:'+key)) || null; }catch(e){ return null; }
}
function saveState(key, obj){ localStorage.setItem('chk:'+key, JSON.stringify(obj)); }
function clearAll(){
  if(!confirm('このページのチェック履歴をすべて削除しますか？')) return;
  document.querySelectorAll('tbody tr').forEach(tr=>{
    const key = tr.dataset.key;
    localStorage.removeItem('chk:'+key);
    const cb = tr.querySelector('.chk'); if(cb) cb.checked = false;
    const dc = tr.querySelector('.date-cell'); if(dc) dc.textContent = '';
  });
}
document.addEventListener('DOMContentLoaded', function(){
  document.querySelectorAll('tbody tr').forEach(tr=>{
    const key = tr.dataset.key;
    const cb = tr.querySelector('.chk');
    const dc = tr.querySelector('.date-cell');
    // 初期ロード（保存済みがあれば復元）
    const st = loadState(key);
    if(st){ cb.checked = !!st.checked; dc.textContent = st.date || ''; }
    // 変更時
    cb.addEventListener('change', e=>{
      if(cb.checked){ dc.textContent = today(); saveState(key, {checked:true, date: dc.textContent}); }
      else { dc.textContent=''; saveState(key, {checked:false, date:''}); }
    });
  });
});
</script>
